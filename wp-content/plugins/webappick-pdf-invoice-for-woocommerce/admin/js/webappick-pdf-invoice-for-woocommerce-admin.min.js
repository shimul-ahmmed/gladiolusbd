!function(e){"use strict";e(window).scroll(function(){e(this).scrollTop()+e(window).height()<e(document).height()-150?e(".woo-invoice-save-changes-selector").addClass("woo-invoice-save-changes"):e(".woo-invoice-save-changes-selector").removeClass("woo-invoice-save-changes")}),e(window).on("mousewheel",function(o){var i=e(".woo-invoice-dashboard-content > li:eq(0)");e(".woo-invoice-dashboard-sidebar .woo-invoice-sidebar-navbar-light").height(i.parent().height()-23)}),e(window).load(function(){e("input[name='wf_tabs']").on("change",function(){var o=e(this).val();sessionStorage.setItem("active_tab",o)});var o,i,a=sessionStorage.getItem("active_tab");"settings"===a?e("#tab1").attr("checked",!0):"seller&buyer"===a?e("#tab2").attr("checked",!0):"localization"===a?e("#tab3").attr("checked",!0):"bulk_download"===a&&e("#tab4").attr("checked",!0);var t=0,n=0;e("#Date-from").on("change",function(){o=Date.parse(e(this).val()),n=1,t&&n&&i<o&&(alert("Input date should be less than or equal Date To"),e("#Date-from").val(""),n=0)}),e("#Date-to").on("change",function(){i=Date.parse(e(this).val()),(t=1)&&n&&i<o&&(alert("Input date should be greater than or equal Date From"),e("#Date-to").val(""),t=0)}),e(function(){var o=e(".woo-invoice-sidebar-navbar-nav > li > a"),i=e(".woo-invoice-dashboard-content > li");if(null!=sessionStorage.getItem("activeSidebarTab")){var a=sessionStorage.getItem("activeSidebarTab");i.hide(),o.removeClass("active"),e(i[a]).show(),e(".woo-invoice-sidebar-navbar-nav > li:eq( "+a+" ) > a").addClass("active"),e(".woo-invoice-dashboard-sidebar .woo-invoice-sidebar-navbar-light").height(e(i[a]).parent().height()-23)}else{var t=e(".woo-invoice-dashboard-content > li:eq(0)");t.css("display","block"),e(".woo-invoice-sidebar-navbar-nav > li:eq(0) > a").addClass("active"),e(".woo-invoice-dashboard-sidebar .woo-invoice-sidebar-navbar-light").height(t.parent().height()-23)}o.bind("click",function(a){a.preventDefault();var t=e(this).parent().prevAll().length;i.hide(),o.removeClass("active"),e(i[t]).show(),e(this).addClass("active");var n=e(this).parent().prevAll().length;sessionStorage.setItem("activeSidebarTab",n),e(".woo-invoice-dashboard-sidebar .woo-invoice-sidebar-navbar-light").height(i.parent().height()-23)})})}),e(document).on("click",".woo-invoice-template-selection",function(o){o.preventDefault();let i=e(this).data("template");e("#winvoiceModalTemplates").modal("hide"),e("body").removeClass(function(e,o){return(o.match(/\S+-modal-open(^|\s)/g)||[]).join(" ")}),e('div[class*="-modal-backdrop"]').remove(),e(this).find("img").removeClass("woo-invoice-template"),e(this).find("img").removeClass("woo-invoice-disable-template"),e(this).find("img").addClass("woo-invoice-slected-template"),e(".woo-invoice-element-disable").find("img").addClass("woo-invoice-template"),e(".woo-invoice-element-disable").find("img").removeClass("woo-invoice-disable-template"),e(".woo-invoice-element-disable").css("z-index","3333"),e(".woo-invoice-element-disable").siblings("div").css("z-index","1111"),e(".woo-invoice-element-disable").siblings("a").css("z-index","2222"),e(this).parent().siblings().find("img").removeClass("woo-invoice-slected-template").addClass("woo-invoice-template"),e.ajax({url:woo_invoice_ajax_obj.woo_invoice_ajax_url,type:"post",data:{_ajax_nonce:woo_invoice_ajax_obj.nonce,action:"wpifw_save_pdf_template",template:i},success:function(o){e(".woo-invoice-template-preview").attr("src","https://woo-invoice-assets.s3.amazonaws.com/template-image/free/"+o.data+".png"),e(".invoice_template_preiview_btn").attr("href","https://woo-invoice-assets.s3.amazonaws.com/template-image/free/"+o.data+".png")}})}),e(document).on("click",".woo-invoice-element-disable",function(o){o.preventDefault(),e(this).children("img").removeClass("woo-invoice-template"),e(this).children("img").addClass("woo-invoice-disable-template"),e(this).css("z-index","1111"),e(this).siblings("div").css("z-index","2222"),e(this).siblings("a").css("z-index","3333")}),flatpickr(".woo-invoice-datepicker",{dateFormat:"n/j/Y",allowInput:!0,onOpen:function(e,o,i){i.setDate(i.input.value,!1)}}),e(window).load(function(){e(".woo-invoice-slider").slick({autoplay:!0,dots:!0,centerMode:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,lazyLoad:"progressive"})}),e(document).on("click",".woo-invoice-campaign-close-button",function(o){o.preventDefault(),e(this).parent(".woo-invoice-promotion").hide(),1===e(this).data("condition")&&e.ajax({url:woo_invoice_ajax_obj.woo_invoice_ajax_url,type:"post",data:{_ajax_nonce:woo_invoice_ajax_obj.nonce,action:"woo_invoice_hide_promotion"},success:function(e){console.log(e)}})}),e(window).load(function(){e("#wpfooter #footer-thankyou").html("If you like <strong>Woo Invoice</strong> please leave us a <a target='_blank' style='color:#f9b918' href='https://wordpress.org/support/view/plugin-reviews/webappick-pdf-invoice-for-woocommerce?rate=5#postform'>★★★★★</a> rating. A huge thank you in advance!")})}(jQuery);